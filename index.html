<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Заметки, ссылки, подборки видеороликов, статей, постов на самые разные темы">
<meta name="keywords" content="статьи, тексты, заметки, новости, ролики">
<meta name="author" content="egax@ya.ru">
<meta name="robots" content="all">
<meta name="yandex-verification" content="bf07f0af8e739c66">
<meta name="google-site-verification" content="eWwGSnvveM7GniusD-nYN2KXBDPtXBHmhKRezn_TBg8">
<title>Заметки / Сайт egax</title>
<link rel="icon" href="/icon.svg" type="image/svg+xml">
<link rel="stylesheet" href="/static/css/main.css?260211">
<link rel="stylesheet" href="/static/css/markdown.css">
<link rel="stylesheet" href="/static/css/posts.css?260206">
<script src="/static/js/template.js?301125"></script>
<script src="/static/js/metrics.js?260211"></script>
<script src="/static/js/3rdparty/showdown.min.js"></script>
</head>
<body>
<div id="header" class="scroll nowrap tcenter">
<a title="Заметки и посты" href="/index.html"><svg width="80" height="24" role="img" xmlns="http://www.w3.org/2000/svg" onload="this.scrollIntoView()"><g class="active" transform="scale(0.26 0.3) translate(44 -40)"><path d="M38,89.2c5-2,15-2.3,14-11.7c0-1-1-3.2-3-3.8c-12-3.5-22-1.9-30-2.1c1,1,2,3,3,3.9c6-0.4,13-3.2,22,0.4c1,0.4,3,3.1,2,4.7c-5,7.5-15,6.3-23,4.8c0,1,0,3,0,4c6,2.4,12-2.5,19,6.7c1,1.4,0,4-1,5.5c-6,6.3-15,5.6-24-0.1c0,1,0,3,0,5c12,7.9,23,4.2,30-4.5c1-2.7,3-6.1,0-10C45,89.5,41,88.9,38,89.2L38,89.2z"/><path d="M78,75.4c-5,1-10,2.5-14,5.4c0,1,1,2,1,3c5-3,12-6,17-4.4c1,1.7-1,6.3-2,6.5c-7,3.7-14,4.2-20,6.7c-5,2.6-8,7.7-6,15.2c7,4.4,14-0.8,20-5.7c0,2-1,3.1-1,5.1c1-0.1,3-0.5,3-0.5c3-9.3,12-19,12-29.1C88,73.8,82,73.7,78,75.4L78,75.4z M77,93.6c-1,5.2-6,8.1-10,10.2c-3,1.1-6,3-7-0.1c-3-10,11-12.1,19-13.5C78,91.4,78,92.4,77,93.6L77,93.6z"/><path d="M105,96.2c-2,2-4,5-6,6.9c4-9.9,7-20.4,6-28.9c0-1-4,0-5,0.4c-8,11.7-12,24.2-18,35c1-0.3,3,0.1,4-0.3c5-10.7,11-20.3,15-30.2c-1,9.5-5,20.3-6,29.7c0,0,2,0.1,3-0.3c9-10.1,18-20.2,27-29.5c-7,10.1-14,20.1-19,30.6c0,1,2,1,3,1.4c6-12.1,15-24.4,23-37.2c-2,0.2-4-1.6-5,0C122,75.7,115,83.7,105,96.2L105,96.2z"/><path transform="translate(0 -2)" d="M151,76.6c-5-1.2-11,1.4-16,6.3c-7,7.2-11,15.5-12,23.1c0,4,3,7.3,6,8.5c2-0.2,3,0.2,5,0c2-0.2,3,5.2,8-5.7c-6,1.5-11,1.5-14-2.7c-1-3.4,1-8.6,4-13.4c4,4.6,11,4.4,17,6C156,89.8,157,79.3,151,76.6C151,76.6,151,76.6,151,76.6z M135,89c3-4.8,7-6.2,10-7.9c6-1.5,6,6.6,2,12.8C143,92.2,139,90.6,135,89L135,89z"/><path transform="translate(0 -4)" d="M161,85.2c3-0.5,6-1,9-0.3c-5,9.2-11,19.3-15,29.5c2-0.1,4-0.1,5-0.7c5-10.5,8-21.1,16-29.4c2-2.8,7,3.4,11-5.7c-8,1.2-15,0.1-23,2C163,80.2,162,83.7,161,85.2L161,85.2z"/><path d="M219,73.8c-2,0.5-4,0.1-6,0.8c-6,5.2-13,11.3-21,16.9c3-5.6,4-10.7,7-15.1c-2,0.2-4-0.5-5,0.7c-6,10.1-11,20.7-14,31.7c9,0.1,8-10.4,12-16.4c6,3.2,6,12.2,19,9.9c-2-1.2-4-2.3-6-4.3c-1-2-3-3.9-5-4.8c-1-0.9-2-2.8-2-2.8C205,83.6,213,79.2,219,73.8L219,73.8z"/><path d="M248,75.6c-7,6.5-14,14.6-23,22.1c4-6.4,4-15.3,6-23.3c-2,0-4-0.9-5-0.3c-3,8.8-4,18.5-7,27.7c3,0.7,6,0.8,8-0.3c10-6.7,17-13.8,23-21c-1,8-2,15.1-2,24.1c2,0.9,4,2,4,1c2-7.9,3-17.7,2-28.8C252,75.5,250,75.4,248,75.6C248,75.6,248,75.6,248,75.6z"/></g></svg>
</a><a title="Книги для чтения" href="/books.html"><svg width="80" height="24" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="scale(0.26 0.3) translate(90 -40)"><path d="M46,73.7c-2,0.5-5,1.1-7,2.1c-11,8.1-21,9.8-27,13.5c0-4.6,2-7.9,1-13.3c-2-0.5-5-2.2-5-1.5c-2,9-2,20.3-3,29.8c2,1.4,4,2.6,5,2c1-5.3,1-11.5,2-16.9c2,2.3,4,4.5,6,6.5c1,2.2,3,4.1,5,6.7c2,2.5,2,5,4,6.6c2,0.7,4,0.4,6,0c-4-5.9-8-11.9-14-18.2C26,86.7,36,82.7,46,73.7L46,73.7z"/><path d="M69,86.8c-5,0.1-12,3.5-18,3.4c2-4.2,4-7.7,6-12.3c-2,0.9-5,1.1-6,2.3c-6,10.9-9,19.9-13,28.4c1,0.1,3,0.1,4,0c2-4.4,6-9.5,7-14.3c6-0.6,11-1.8,17-3.1c-2,5.9-7,10.8-8,16.7c0,0.9,2,0.2,3,0.7c5-11.2,14-24.1,21-37.9C75,69.7,73,80.7,69,86.8L69,86.8z"/><path d="M75,104.5c5-10.6,14-20.6,19-32.2c0-1-3-0.9-3-0.9c-9,13.4-17,26.3-22,38.3c2-0.1,3,1.3,4-0.2c10-8.4,21-17.2,31-26.3c-6,8.8-13,19.4-15,28.6c-1,1.6,2,0.8,3,1.2c5-12.1,14-23.9,19-35.9c0-1.1-3-1.5-5-0.3c-9,8.5-18,14.9-27,23.4C78,101.8,76,102.9,75,104.5C75,104.5,75,104.5,75,104.5z"/><path d="M103,111.6c2-0.1,4-1.2,6-1.2c2-9.3,8-20.8,13-30c5,0.3,9-0.6,14-2.1c1-1.1,1-3.3,2-4.4c-6,0.1-12,1.6-18,1.9C113,87.3,108,99.5,103,111.6C103,111.6,103,111.6,103,111.6z"/><path d="M166,74.2c-6,8.6-14,15-25,24.7c3-8.4,6-17.5,8-26.6c-1,0.8-3,0.2-4,1.2c-5,8.9-8,19.9-10,30.8c3-1.3,6,0,8-1.8c10-8.3,18-14.6,24-22.9c0,8.7-3,15.8-2,25.5c2,0.7,5,2.9,5,1.8c2-8.7,1-21.9,2-31.6C170,75,168,75,166,74.2L166,74.2z"/></g></svg>
</a><a title="Аккорды, песни, стихи" href="/songs.html"><svg width="80" height="24" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="scale(0.243 0.28) translate(50 -40)"><path d="M38,73C28,85,21,96.2,15,107.4c8,5.4,6-8.5,12-10c5-0.6,13,3.4,19,2.2c2,3.8,0,8.3,2,12.1c1,0.3,4,0.1,4,0c2-12.2-1-25.6-9-38.2C42,73,40,73.1,38,73L38,73z M29,92.8c4-4,8-8.8,11-14.6c2,5.2,4,11.2,5,16.8C39,94.7,35,95.5,29,92.8L29,92.8z"/><path d="M98,72c-2,0.9-4,0.7-6,1.5c-8,6.2-15,13.3-22,20.3c2-5.4,4-9.9,5-15.2c-2,0.4-5,0.8-5,0.8c-5,10.9-8,21.2-12,31.2c9,2.6,8-11.3,12-16.7c4,3.6,5,9.6,8,14.1c1,0.8,4-1,6-1.7c-2-5.6-4-10.1-8-14.4C83,86.3,91,79.3,98,72L98,72z"/><path d="M129,72.6c-8-1.5-18,11.4-27,17.9c2-6.1,5-10.7,8-16.4c-2,0.1-5,0.6-5,0.6c-7,12.7-11,24.8-18,35.7c8,0,10-12.5,14-19.4c2,5.1,2,12.3,4,17.4c1,0.5,3,0.4,4,0.9c0-7.1-1-12.7-2-19.3C116,78.3,124,73.7"/><path d="M148,72c-4-4.8-14,1.9-20,9.5c-5,8-10,15.9-8,22.9c2,6,9,7.8,17,1c8-6.8,15-16.7,16-25.1C154,75.7,151,73.3,148,72L148,72z M134,103.1c-7,3.2-11-0.5-9-7.7c2-6.2,7-14.2,13-17.7c5-3.9,11-2.2,10,4.3C147,89.4,141,96.8,134,103.1C134,103.1,134,103.1,134,103.1z"/><path transform="translate(3 -5)" d="M176,80.1c-4-0.4-8,2.3-12,5.3c1-1.5,2-3.9,3-5.3c-1-0.5-3-0.6-3-0.6c-11,16-24,33-28,49.5c-1,1.6,2,0.8,3,1.2c3-6.8,5-14,9-18.4c3-3.7,1,0.4,1,1.4c1,1.4,2,2.8,4,2.7c5,0.1,10-1.6,15-5c7-6.3,12-14.9,14-23.3C183,82.4,180,80.5,176,80.1L176,80.1z M165,108.4c-6,3.9-14,5.6-13-1.9c1-4.5,4-10.2,8-14.2c2-2,3-3.5,5-5.4c5-4.4,12-4.2,11,2C176,94.7,171,102.5,165,108.4L165,108.4z"/><path d="M218,79c-5-0.6-11,1.4-16,1c-5,10-13,20.1-23,28.9c-1,0.4-2-0.2-2-0.2c-4,4.6-5,9.9-7,14.8c8,1.2,6-6.6,10-12.1c9-0.6,18-3.9,27-4.6c-1,2.9-2,5.8-3,8.8c9,1,6-8.9,10-13.7c-2,0-4,0.9-6,1.1C211,94.3,216,87.1,218,79L218,79z M203,104.4c-6,1.7-12,0.3-18,3.3c8-8.4,13-17,20-24.2c2-1.1,5-0.3,7-1.2C210,89.7,204,96.7,203,104.4L203,104.4z"/><path d="M260,79.5c0,9.5-2,17.5-2,27.1c2,0.6,5,1.4,5,0.5c2-7.8,2-16.3,2-25.8C263,80.3,262,80.3,260,79.5C260,79.5,260,79.5,260,79.5z"/><path d="M250,92.3c-7-4.3-12-2.1-19-2.4c1-4.2,2-8.5,4-11.3c-2,0.1-4-0.5-5,0.1c-5,7.7-6,17.7-10,26.4c9-1.8,17-0.2,25-1.5c4-0.6,7-2.1,8-5.9C253,96,253,95.1,250,92.3C250,92.3,250,92.3,250,92.3z M237,100.9c-3,0.7-6,0.6-10-0.2c2-2.3,2-5,3-7.5c4-2.6,11,0.1,16,1.2C249,101.3,241,100.4,237,100.9L237,100.9z"/></g></svg>
</a><a title="Фотки и картинки" href="/foto.html"><svg width="80" height="24" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="scale(0.26 0.3) translate(70 -40)"><path d="M62,73.1c-4,0.9-9,1.4-13,1.3c0-0.9,1-2.6,1-3.5c-2,1.8-7-4.8-7,4.6c-9,1.2-17,0.3-21,3.6c-2,2.5-6,3.7-1,13.1c5,7.7,10,7.5,15,7.9c-1,2.1-1,3.8-2,5.9c6,2.7,5-4,7-5.8c1-0.5,4,0.2,6-0.5c3-1.3,6-2.1,9-4.1c6-3.9,11-10,11-16.4C68,76,68,72.6,62,73.1C62,73.1,62,73.1,62,73.1z M37,96.2c-4,0.4-11-1.5-12-7.4c-2-9.7,7-10,17-10C40,84.4,39,91,37,96.2L37,96.2z M53,93c-3,1.8-7,4.1-11,3.1c2-5.6,4-12.2,6-18.2c4,0.4,11-3.1,13,1.8C62,84.9,57,89.5,53,93L53,93z"/><path d="M94,69.4c-8-0.5-16,7.2-22,14.7c-4,5-6,10.9-5,16.2c3,5.8,11,6.4,18,1.4c1-1.4,3-3.2,5-5.1c3-4.3,7-7.3,9-12.2C103,75.4,102,67.9,94,69.4L94,69.4z M84,97.4c-3,3.2-7,3.7-10,2.8c-1-1.5-3-2.8-2-5.9c2-7.1,7-14.5,14-18.9c5-3.4,11-2.8,10,2.7C96,84,90,92,84,97.4L84,97.4z"/><path transform="translate(0 -4)" d="M108,77.7c2,2,4,4,7,4.5c-8,10.1-16,19.1-18,28.8c-1,1.4,2,1.1,4,1.1c4-9.7,11-19.3,17-28.3c2,1.1,5,1.8,8,1.6c1-0.4,2-2.9,3-4.4c-2-1.3-5-1.1-8-1.8c-2-1.1-4-3.2-7-3.7c-1-0.5-2-2-3-2.5C110,74.6,109,76.1,108,77.7L108,77.7z"/><path transform="translate(3 -7)" d="M158,80.6c-2-0.1-4-1.2-6,0.1c-7,6-14,11.9-22,17.9c4-5.6,6-11.5,9-17.7c-2,0.5-4,0.1-5,0.5c-6,11.6-13,21.8-17,33.7c2,0.2,4-0.6,6-0.3c1-5.6,4-10.9,7-16.1c1,7,6,9.6,10,14.2c2,0.7,5-0.9,8-1.1c-4-5.3-11-6.8-12-13.9C144,92.3,151,84.8,158,80.6L158,80.6z"/><path transform="translate(0 -5)" d="M187,77.8c-2,3.2-4,5.2-7,8.1c-1,1.7-2,3.5-3,5.3c-5,4.4-9,11-15,15.4c2-9.7,5-18.1,7-27.7c-1-0.3-3-0.8-4,0.2c-4,9.4-7,20.3-10,31.2c3,0.1,6,0.6,8-0.2c11-7.8,19-16.4,25-26.9c-2,7.8-1,19.1-3,26.9c2,0.3,5,1.8,5,0.7c2-9.9,3-22,2-34.8C191,77.6,189,78.2,187,77.8L187,77.8z"/></g></svg>
</a><a title="Мои карты" href="/dbcartajs"><svg width="80" height="24" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="scale(0.26 0.3) translate(44 -40)"><path transform="translate(-163 -8)" d="M217,80.6c-2,0.7-4,0.4-6,1.3c-8,4.8-13,12.6-21,17.9c3-5.8,4-11.4,7-16c-2,0.1-4-0.7-5,0.5c-7,10.7-10,21.2-14,32.7c9,1.4,8-11.1,12-17.2c1,2.1,2,4.1,4,6.2c2,0.9,4,3.1,5,5.3c2,3.3,6,2.3,10,1.8c-5-5.1-9-8.5-13-13.8C203,92.1,211,87.2,217,80.6L217,80.6z"/><path transform="translate(-3 0)" d="M78,73.3c-2,0.5-5,1.1-7,2.3c-2,1.2-4,3.2-7,3.4c0,0.9,1,1.7,1,2.6c5-2.9,12-6.1,17-4.7c1,1.6-1,5.8-2,6c-9,4-18,4.6-24,10.2c-2,3.4-6,6.2-2,9.4c7,6.2,14-0.2,20-4.8c-1,2-1,2.9-2,4.8c1-0.1,3-0.4,4-0.6c4-5.3,5-11.9,9-17.6c2-3.3,5-9,2-10.8C85,72.4,81,73.6,78,73.3L78,73.3z M77,90c-3,7-11,11.7-18,10.4c-1-9.5,12-10.4,20-13.5C78,87.9,78,88.9,77,90L77,90z"/><path transform="translate(-64 -5)" d="M176,80.1c-4-0.4-8,2.3-12,5.3c1-1.5,2-3.9,3-5.3c-1-0.5-3-0.6-3-0.6c-11,16-24,33-28,49.5c-1,1.6,2,0.8,3,1.2c3-6.8,5-14,9-18.4c3-3.7,1,0.4,1,1.4c1,1.4,2,2.8,4,2.7c5,0.1,10-1.6,15-5c7-6.3,12-14.9,14-23.3C183,82.4,180,80.5,176,80.1L176,80.1z M165,108.4c-6,3.9-14,5.6-13-1.9c1-4.5,4-10.2,8-14.2c2-2,3-3.5,5-5.4c5-4.4,12-4.2,11,2C176,94.7,171,102.5,165,108.4L165,108.4z"/><path transform="translate(18 0)" d="M108,77.7c2,2,4,4,7,4.5c-8,10.1-16,19.1-18,28.8c-1,1.4,2,1.1,4,1.1c4-9.7,11-19.3,17-28.3c2,1.1,5,1.8,8,1.6c1-0.4,2-2.9,3-4.4c-2-1.3-5-1.1-8-1.8c-2-1.1-4-3.2-7-3.7c-1-0.5-2-2-3-2.5C110,74.6,109,76.1,108,77.7L108,77.7z"/><path transform="translate(-76 2)" d="M260,79.5c0,9.5-2,17.5-2,27.1c2,0.6,5,1.4,5,0.5c2-7.8,2-16.3,2-25.8C263,80.3,262,80.3,260,79.5C260,79.5,260,79.5,260,79.5z"/><path transform="translate(-76 2)" d="M250,92.3c-7-4.3-12-2.1-19-2.4c1-4.2,2-8.5,4-11.3c-2,0.1-4-0.5-5,0.1c-5,7.7-6,17.7-10,26.4c9-1.8,17-0.2,25-1.5c4-0.6,7-2.1,8-5.9C253,96,253,95.1,250,92.3C250,92.3,250,92.3,250,92.3z M237,100.9c-3,0.7-6,0.6-10-0.2c2-2.3,2-5,3-7.5c4-2.6,11,0.1,16,1.2C249,101.3,241,100.4,237,100.9L237,100.9z"/></g></svg>
</a><a title="Тема (День/Ночь)" onclick="actionChStyle('posts')"><svg width="80" height="24" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="-40 -40 80 80"><g transform="scale(0.5 0.5) translate(-220 20)"><path class="yin" d="M0,38a38,38 0 0 1 0,-76a19,19 0 0 1 0,38a19,19 0 0 0 0,38" /><path class="yang" d="M0,38a38,38 0 0 1 0,-76a19,19 0 0 1 0,38a19,19 0 0 0 0,38" transform="scale(-1 -1)" /></g></svg></a>
</div>
<div class="mh_hd"></div>
<div id="root" class="main">
<div id="page_header"></div>
<div id="page_content"></div>
<div id="page_footer"></div>
<div id="footer" class="tcenter">
<p class="gray">Все тексты, представленные на сайте, взяты из свободных источников или являются авторским творчеством</p>
<p><a class="hspaced" title="Исходный код" href="//github.com/egaxegax/egaxegax.github.io">Проект</a><a class="hspaced" title="Поддержать проект" href="//dzen.ru/egax.ru?donate=true">Поддержать<span class="hspaced"></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="10 23 46 24"><g fill="currentColor"><circle cx="37.5" cy="27.5" r="10"></circle><path d="M17.5 40v-3 c0-.553-.448-1-1-1h-5c-.552 0-1 .447-1 1v17c0 .553.448 1 1 1h5c.552 0 1-.447 1-1v-14 H26c2.791 0 5.189 1.897 5.833 4.615.053.226.254.385.486.385H41c1.103 0 2 .897 2 2s-.897 2-2 2h-9.529c-.276 0-.5.224-.5.5s.224.5.5.5H41c.45 0 .872-.106 1.256-.285.014-.005.029-.004.043-.01l11.423-5.354c.059-.021 1.479-.471 2.165 1.098C56.198 45.919 55.852 46.892 55.063 47.291l-16.767 9.147c-1.236.898-2.963 1.163-4.495.692L17.5 51.616"></path></g></svg></a>&ensp;&copy;&nbsp;2014-25&ensp;</p>
<span id="metrics" class="hspaced"></span>
<span id="metrics1" class="hspaced"></span>
</div>
</div>
<script>

  document.getElementById('page_header').innerHTML = 
'<div class="table">'+
  '<div class="tcell vmid"><h1>Подборки статей, постов на разные темы</h1></div>'+
'</div>';
  document.getElementById('page_content').innerHTML = addLoader(1);

  function addAbout(r,p){
    var converter = new showdown.Converter(), // to markdown
        html = converter.makeHtml(r); 
    document.getElementById(p.id).innerHTML = 
  '<div class="inlbl">'+ html +'</div>';
    return ' about';
  }

  function addList(r,p){
    var converter = new showdown.Converter(), // to markdown
        html = converter.makeHtml(r)  // fix link url to absolute in README.md
          .replace(/href="([^\"]+).md/g, function(m,fld){ return 'class="nodecor" href="/index.html?'+tr(p.subj)+'/'+tr(decodeURI(fld)) }); 
    updateMetaTag('description', trstr(html.replace(/(<([^>]+)>)/gi,'').slice(0,512), '.,'));
    updateMetaTag('keywords', p.subj+', '+p.title[2]+', список постов');
    document.getElementById(p.id).innerHTML = 
  '<div class="msgtext'+(p.title[2] == 'README' ? ' readme' : '')+'">'+ html +'</div>';
  }

  function addPost(r,p,rs){
    var converter = new showdown.Converter(), // to markdown
        html = converter.makeHtml(r) 
          .replace(/src="\.\//g, 'src="'+p.url+'/../') // fix img url to absolute
          .replace('<img ', `<img onerror="this.style.display='none'" `) // fix empty img
          .replace('hqdefault.jpg', 'mqdefault.jpg');  // fix youtube 16:9 img size
    if(p.if) {
      updateMetaTag('description', trstr(html.replace(/&nbsp;/g,' ').replace(/(<([^>]+)>)/gi,'').slice(0,512), '.,') + ' ' + (urlParams().page||''));
      updateMetaTag('keywords', buildSubPath(ROOTS, SUBJ, p.title[0]) +', '+ p.title[2] +', читать, смотреть, видео, посты, статьи');
    }
    if(p.view == 'post' && html.search('data-videoid')>-1 && 
        (html.search('data-adult') == -1 || confirm("Взрослый контент. Если вам меньше 18 лет покиньте её. Продолжить?")))
    {
      html = html.replace(/<a(.*)>\s*<img.*>\s*<\/a>\s*/ig, 
        '<iframe class="embed" align="middle" '+
          'src="'+((html.match(/data-videoid="([^"]+)"/) || []).pop() || '')+'" '+
          'allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" '+
          'allowfullscreen>'+
        '</iframe>'
      );
      html = html.replace('<div class="inlbl text">', '<div class="inlbl text" style="max-width:100%">');
    }
    document.getElementById(p.id).innerHTML = 
  '<div id="msg'+p.i+'" class="inlbl">'+ html +'</div>';
    document.getElementById(p.id).innerHTML += 
  '<div class="msgfooter mw_f nowrap scroll">'+
    '<table class="collapse"><tr>'+
      '<td><span class="tooltip gray" title="добавлено '+buildDate(p.title[3])+'" onclick="this.innerHTML=addIClock()+this.title"> '+addIClock()+' </span></td>'+
      '<td><a class="nodecor hspace gray" href="/index.html?'+tr(p.subj)+'/'+tr(p.title[2])+'"> '+addIShare()+' </a></td>'+
    ((rs=document.querySelector('#'+ p.id +' .rssurl')) ? 
      '<td><span class="hspace rssfetch tooltip gray" title="'+rs.innerHTML+'" onclick="fetchRSSFromXML(\''+rs.innerHTML+'\',\'msg'+p.i+'\')"> '+addIRefresh()+'</span></td>' : '')+
      '<td width="95%"><a class="nodecor light" title="'+buildSubPath(ROOTS, SUBJ, p.title[0])+'" href="/index.html?'+tr(p.subj)+'">'+SUBJ[p.title[0]][0]+'</a></td>'+
    '</tr></table>'+
  '</div>';
    addTitlesRelsHtml(p, 'index.html', '', 'page_content');
    if(window.addYaRTB_Widget && p.view == 'post') addYaRTB_Widget('ya_rtb_wid', 'widget_posts', ['заметки', p.root, p.subj]);
  }

  function addPageContent(roots, subjects, page, iinit){
    PAGE.lock = 1;
    if(!page.posts.length){
      document.getElementById('page_content').innerHTML += addNotFound();
      return 1;
    }
    if(window.addYaRTB_Block && iinit) {
      document.querySelector('.mh_hd').innerHTML = '<div id="ya_rtb_hd" '+(window.innerWidth<1350 ? 'style="min-height:136px"' : '')+ '></div>';
      addYaRTB_Block('ya_rtb_hd', YA_RTB[1]);
    }
    page.bottom = (page.num)*page.per;
    page.top = page.bottom+page.per;
    page.titles = page.posts.slice(page.bottom, page.top);
    if(page.titles.length){
      document.title = page.doctitle.replace('README / ', '');
      document.getElementById('page_footer').innerHTML = addPaginator(page.posts, page,
    '<button onclick="this.disabled = addPageContent(ROOTS, SUBJ, PAGE)" class="rounded nopad hmarg bigger" title="Загрузить ещё">&#8634;</button>');
    }
    for(var i=0; i<page.titles.length; i++){
      var subj = subjects[page.titles[i][0]][0],
          root = roots[page.titles[i][4]][0],
          title = page.titles[i][2];
      document.getElementById('page_content').innerHTML += 
    '<div id="post'+(i+page.bottom)+'">'+addLoader(i==0)+'</div>';
      xhr({id: 'post'+(i+page.bottom), view: page.view, i: i+page.bottom, if: i==0, root: root, subj: subj, title: page.titles[i], doctitle: page.doctitle, url: '/posts/'+root+'/'+subj+'/'+title+'.md'}, function(r,p,st){
        var wrap = document.getElementById(p.id);
        wrap.innerHTML = '';
        if(st == 200) { // skip Not Found pages
          var wrap = document.getElementById(p.id);
          wrap.className = 'wrap';
          (p.title[2] == 'about') ? wrap.className += addAbout(r,p) :
          (p.title[2] == 'README') ? addList(r,p) : addPost(r,p);
        }
      });
    }
    page.num++;
    setTimeout(function(){ PAGE.lock = (page.titles.length == 0 || page.num%12 == 0 || urlParams().page); });
    return page.titles.length == 0;
  }

  xhr({url: '/posts/index.js?'+(+new Date())}, function(s){
    eval(s);
    window.PAGE = {};
    PAGE.view = 'last';
    PAGE.per = 4;                   // blocks per page
    PAGE.num = urlParams().page||0; // start num page 
    PAGE.header = '<h1>Подборка <b><i>'+TITLES.length+'</i></b> статей на разные&emsp; <a class="nodecor" href="/psubj.html"><i>Темы</i></a></h1>';
    PAGE.posts = TITLES;
    PAGE.doctitle = (PAGE.posts.length ? (SUBJ[PAGE.posts[0][0]][0] + ', ' + PAGE.posts[0][2] + ' - ') : '') + document.title;
    for(var p in urlParams()){
      var pp = p.split('/');
      if(p == 'page' && urlParams().page){ // ?page
        PAGE.doctitle += ' - '+ urlParams().page; // skip paginate
      }else if(p == 'find' && urlParams().find){ // ?find
        if((PAGE.posts = PAGE.posts.filter(function(tit){ return SUBJ[tit[0]][0].search(eval("/"+decodeURI(urlParams().find)+"/i"))>-1 || tit[2].search(eval("/"+decodeURI(urlParams().find)+"/i"))>-1; })).length){
          PAGE.posts = PAGE.posts.sort(function(a,b){ return arraySort(b[3],a[3]); }); // sort by datetime
          PAGE.header = 'Поиск: <i>'+decodeURI(urlParams().find)+'</i> &emsp; <i class="light">('+PAGE.posts.length+')</i>';
          PAGE.doctitle = SUBJ[PAGE.posts[0][0]][0] + ', ' + PAGE.posts[0][2] + ', поиск - ' + document.title;
          PAGE.per = 10;
        }
      }else if(p && urlParams()[p]){ // ?arg=val
        // skip ya.ru search
      }else if(pp.length>1){ // ?subj/title
        if((PAGE.posts = addTitlesRels(pp, SUBJ, PAGE.posts, 1)).length){
          PAGE.header = '<h1>'+buildSubPath(ROOTS, SUBJ, PAGE.posts[0][0]) +'&emsp;<a class="nodecor" href="/index.html?'+pp[0]+'/README"><i>Все</i></a></h1>';
          PAGE.doctitle = SUBJ[PAGE.posts[0][0]][0] + ', ' + PAGE.posts[0][2] + ' - ' + document.title;
          PAGE.view = 'post';
        }
      }else if(pp.length>0){ // ?subj
        if((PAGE.posts = PAGE.posts.filter(function(tit){ return (tr(SUBJ[tit[0]][0]) == pp[0]); })).length){
          PAGE.header = '<h1>'+buildSubPath(ROOTS, SUBJ, PAGE.posts[0][0]) + '<i class="hspace light">('+ PAGE.posts.length +')</i><a class="nodecor" href="/index.html?'+pp[0]+'/README"><i>Все</i></a></h1>';
          PAGE.posts = [[PAGE.posts[0][0],PAGE.posts[0][1],'about',0,PAGE.posts[0][4]]].concat(PAGE.posts); // +about page
          PAGE.doctitle = SUBJ[PAGE.posts[0][0]][0] + ', ' + ROOTS[SUBJ[PAGE.posts[0][0]][3]][0] + ' - ' + document.title;
          PAGE.view = 'list';
        }
      }
    }
    document.getElementById('page_header').innerHTML = '<div class="table"><div class="tcell vmid">'+PAGE.header+'</div><div class="tcell tright nopad vmid" style="width:100px">'+addFinder("posts")+'</div></div>';
    document.getElementById('page_content').innerHTML = '';
    addPageContent(ROOTS, SUBJ, PAGE, 1);
    document.addEventListener('scroll', function(){ // infinite scroll
      if(!PAGE.lock && (window.pageYOffset + window.innerHeight) > document.getElementById('root').offsetHeight*0.95){
        addPageContent(ROOTS, SUBJ, PAGE);
      }
    });
  });

</script>
</body>
</html>
