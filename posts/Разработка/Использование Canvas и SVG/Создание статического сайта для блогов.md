<!--2024-01-01 22:11:49-->
## Сайт на GH-Pages платформе egaxegax.github.io
Хочу рассказать о своём новом (хотя существует уже почти *3* года) сайте [egaxegax.github.io](//egaxegax.github.io),
после закрытия предыдущего сайта [egaxegax.appspot.com](//egaxegax.appspot.com) на хостинге [Google App Engine](appengine.google.com) в начале 2021 года.
О нём я писал в статье [Cайт на Django-nonrel на платформе Google App Engine для Python](//habr.com/ru/articles/274431/).
Эта статья рассчитана на тех, кто хочет узнать или получить простой сайт с возможностью добавления и правки контента на основе *markdown*-постов.

Сайт [egaxegax.appspot.com](//egaxegax.appspot.com) просуществовал *10* лет на хостинге *GAE*.
Но был закрыт вместе с бесплатным доступом к *GAE* после изменений политики *Google*.
В начале *2020* года *Google* прислал уведомление на почту, что к концу года мне нужно выбрать 
один из платных планов хостинга (от *300$* в месяц), а бесплатный доступ будет закрыт. 
И я стал готовиться к переезду с *GAE*, забэкапив содержимое сайта. 

У меня уже был проект [dbcartajs](//dbcartajs.github.io) на *github* и сайт к нему на платформе *Github Pages*.
И я решил перенести всё содержимое старого сайта в репозиторий *GitHub*, открыв к нему доступ по схеме *GitHub Pages*. 
Для этого текстовый бекап базы данных с содержимым старого сайта я разбил на маленькие *.txt* файлы c *html*-содержимым для каждой строчки из таблицы, то есть для каждого поста.
*Python*-код моделей и вью старого сайта, написанного для фреймфорка *Django-nonrel* я переписал на языках *JavaScript* и *HTML*, 
упростив код и отказавшись от онлайн-редактирования содержимого сайта.
Позже я перевёл *.txt*-файлы в *markdown*-формат *.md* для отображения страниц в репозитории также как на сайте, но отказался от использования шаблонов *Jekyll*, 
создав в корне проекта файл *.nojekyll*, поскольку компиляция им *.md* файлов для сборки сайта на *Github Pages* (после *git push* в *master*) идет очень долго. 
*GitHub* автоматически конвертит *.md* файлы и отображает как *html* на страницах репозитория. 
В большинстве репозиториев есть хотя бы один *README.md* файл, у меня в проекте *.md* файлов оказалось больше *30,000*.

В новой схеме для управления содержимым я использую индексные файлы *index.js*, содержащие список всех *.md* файлов с содержимым каждого раздела сайта.
Для переиндексации после добавления или удаления новых *.md* файлов контента используется *python*-скрипт *update.py*.

Новый сайт разделен на разделы: *books* (*Книги*), *foto* (*Фото*), *posts* (*Заметки*), *songs* (*Аккорды*), *vesti* (*Записки*) 
и *dbcartajs* (*Карты*, как символьная ссылка на папку проекта).
Разделы являются подкаталогами после клонирования проекта из [репозитория](//github.com/egaxegax) *github* на диск.

Подробная инструкция о том, как пользоваться сайтом, есть в *README*-файле [описания проекта](//github.com/egaxegax/egaxegax.github.io#readme).
