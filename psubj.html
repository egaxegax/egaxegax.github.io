<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Темы статей и постов">
<meta name="keywords" content="статьи, тексты, заметки, фото">
<meta name="author" content="Grigoriy Eremin, Григорий Еремин, egax@bk.ru">
<meta name="yandex-verification" content="bf07f0af8e739c66">
<meta name="google-site-verification" content="eWwGSnvveM7GniusD-nYN2KXBDPtXBHmhKRezn_TBg8">
<title>Заметки / Сайт Григория Еремина</title>
<link rel="icon" href="/static/img/favicon.svg" type="image/svg">
<link rel="stylesheet" href="/static/css/main.css">
<link rel="stylesheet" href="/static/css/posts.css">
<script src="/static/js/metrics.js" data-floor="1" data-dark="1"></script>
<script src="/static/js/updater.js"></script>
<script src="/static/js/template.js"></script>
</head>
<body>
<div id="root" class="main">
<div id="header" class="main scroll">
<a title="Записки и сообщения" href="/"><img src="/static/img/vesti.svg" alt="Записки"></a>
<a title="Заметки и посты" href="/posts.html"><img src="/static/img/posts_a.svg" onload="this.scrollIntoView()" alt="Заметки"></a>
<a title="Фотки и картинки" href="/foto.html"><img src="/static/img/fotki.svg" alt="Фотки"></a>
<a title="Аккорды, песни, стихи" href="/songs.html"><img src="/static/img/songs.svg" alt="Аккорды"></a>
<a title="Книги для чтения" href="/books.html"><img src="/static/img/books.svg" alt="Книги"></a>
<a title="Мои карты" href="/dbcartajs"><img src="/static/img/dbcartajs.svg" alt="Карты"></a>
</div>
<div id="page_header" class="main"></div>
<div id="page_content" class="main"></div>
<div id="page_footer" class="main"></div>
<p class="cfloat smaller gray hspace">
  <i>P.S.</i> Все тексты, представленные на сайте, взяты из свободных источников или являются авторским творчеством.
</p>
<table id="footer" class="main"><tr>
<td id="mailcounter" align="right"><a href="//top-fwz1.mail.ru/jump?from=3210527"><img src="//top-fwz1.mail.ru/counter?id=3210527;t=295;l=1" height="31" width="38" alt="Top.Mail.Ru" style="border:0;"></a></td>
<td id="yacounter"><a href="//metrika.yandex.ru/stat/?id=65044687&amp;from=informer" target="_blank" rel="nofollow"><img src="//informer.yandex.ru/informer/65044687/3_1_FFFFFFFF_EFEFEFFF_0_pageviews" style="width:88px; height:31px; border:0;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (просмотры, визиты и уникальные посетители)" class="ym-advanced-informer" data-cid="65044687" data-lang="ru" /></a></td>
<td id="credits"><a title="Исходный код" href="//github.com/egaxegax/egaxegax.github.io">Source</a> &emsp; &emsp; <span>2011-2024</span> </td></tr>
</table>
</div>
<script>

  document.getElementById('page_header').innerHTML = 
'<p class="mtext hspace">Выберите одну из тем статей </p>';
  document.getElementById('page_content').innerHTML = addLoader(1);

  function addSubj(subj,i){
    var subdir = '';
    if (ROOTS[subj[3]][0] != '.'){
      subdir = '<em>' +ROOTS[subj[3]][0]+' / </em> ';
    }
    var tmpl = 
  '<table width="99%" class="msgtext"><tr>'+
    '<td width="80%" class="hspaced">'+
      '<a class="nodecor dark" href="/posts.html?'+tr(subj[0])+'">'+subdir+subj[0]+'</a>'+
      '<div class="hspace gray smaller"><i class="smaller">'+buildDate(subj[2])+'</i></div>'+
    '</td>'+
    '<td valign="center"><b><i>'+subj[1]+'</i></b></td>'+
    '<td valign="center" align="right"><i class="counter smaller2">'+i+'</i></td>'+
  '</tr></table>';
    return tmpl;
  }

  function addPageContent(subjects, page){
    PAGE.lock = 1;
    if(!subjects.length){
      document.getElementById('page_content').innerHTML += addNotFound();
      return 1;
    }
    page.bottom = (page.num)*page.per;
    page.top = page.bottom+page.per;
    page.subs = subjects.slice(page.bottom, page.top);
    for(var i=0; i<page.subs.length; i++){
      document.getElementById('page_content').innerHTML += 
    '<div id="subj'+(i+page.bottom)+'" class="wrap">'+addSubj(page.subs[i], page.bottom+i+1)+'</div>';
      if(window.addYaRTB_Block && (i==0 || subjects.length==1)){
        document.getElementById('page_content').innerHTML += 
      '<div id="yandex_rtb_'+(i+page.bottom)+'" class="bmarg mw mh"></div>';
        addYaRTB_Block((i+page.bottom), true, YA_RTB[2]);
      }
    }
    if(page.subs.length){
      document.getElementById('page_footer').innerHTML = addPaginator(subjects, page,
    '<button onclick="this.disabled = addPageContent(SUBS, PAGE)" class="rounded nopad hmarg bigger" title="Загрузить ещё">&#8634;</button>');
    }
    page.num++;
    setTimeout(function(){ PAGE.lock = (page.subs.length == 0); }, 500);
    return (page.subs.length == 0);
  }

  upfunc({url: buildURL('posts')+'/index.js'}, function(s){
    eval(s);
    if(urlParams().page){ // ?page
      document.title += ' - ' + urlParams().page;
    }
    window.PAGE = { 
      per: 10,                 // blocks 1 page
      num: urlParams().page||0 // start num page 
    };
    var subjects = SUBJ;
    subjects.sort(function(a,b){ return arraySort(ROOTS[a[3]][0]+'_'+a[0],ROOTS[b[3]][0]+'_'+b[0]); });
    window.SUBS = subjects;
    window.POSTS = TITLES;
    document.getElementById('page_content').innerHTML = '';
    addPageContent(SUBS, PAGE);
      // infinite scroll
    document.addEventListener('scroll', function() {
      if(!PAGE.lock && (window.pageYOffset + window.innerHeight) > document.getElementById('root').offsetHeight-10){
        addPageContent(SUBS, PAGE);
      }
    });
  });

</script>
</body>
</html>
